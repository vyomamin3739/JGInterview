<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=windows-1252"/>
    <title>Webphone usage</title>
    <meta name="author" content="Mizutech"/>
    <style>
                #js_not_enabled { float: left; clear: both; width: 100%; height: 100%; background: #1d1d1d; color: #f00; text-transform: none; text-align: center; padding: 10px; font-size: 1.2em; }
        #header_container {
        background-image:linear-gradient(top, #cde9f7 0%, #a2cfe6 51%);
        background-image:-webkit-linear-gradient(top, #cde9f7 0%, #a2cfe6 51%);
        background-image:-moz-linear-gradient(top, #cde9f7 0%, #a2cfe6 51%);
        background-image:-ms-linear-gradient(top, #cde9f7 0%, #a2cfe6 51%);
        background-image:-webkit-gradient(
            linear,
            left top,
            left bottom,
            color-stop(0, #cde9f7),
            color-stop(0.51, #a2cfe6)
        );
        }
        body { margin: auto; padding: 0; font-family:  sans-serif, serif; font-size: 14px; text-align: center; background: #f9f9f9; }
        #header_container { width: 100%; margin: 0; padding-top: 1em; padding-bottom: 1em; height: 2.2em; }
        #header_container h1 { margin: 0; padding: 0; font-size: 1.9em; }
        #footer { display: inline-block; clear: both; width: 100%; 
            background-image:linear-gradient(top, #cde9f7 0%, #fff 100%);
            background-image:-webkit-linear-gradient(top, #cde9f7 0%, #fff 100%);
            background-image:-moz-linear-gradient(top, #cde9f7 0%, #fff 100%);
            background-image:-ms-linear-gradient(top, #cde9f7 0%, #fff 100%);
            background-image:-webkit-gradient(
                linear,
                left top,
                left bottom,
                color-stop(0, #cde9f7),
                color-stop(1, #fff)
            );
        }
        #footer_cp { display: block; float: right; font-size: .75em; }
        #footer_content { display: inline-block; width: 100%; margin: .5em 1.5em 1em 1.5em; text-align: left; line-height: 130%; font-size: .9em; }
        #footer_links_container { display: block; width: 100%; float: left; text-align: center; margin-top: .5em; }
        .footer_links { display: inline-block; margin-left: .3em; margin-right: .3em; }
        #main_container { line-height: 115%; width: 900px; margin: auto; display: inline-block;
                          /*background: #ecf3f8; border-right: solid 1px #a2cfe6; */
                          background: #ffffff;
        }
        
        #left { width: 150px; margin-right: 20px; float: left; border-right: solid 1px #a2cfe6; text-align: left; background: #ffffff; }
        #content { float: left; text-align: center; width: 700px; background: #ffffff; margin-bottom: 3em; margin-top: .5em; }
        #home_content, #api_content, #url_content { text-align: left; }
        .clear { width: 100%; height: 1px; float: left; clear: both; }
        #left_menu_list { float: left; width: 100%;  margin: 0; padding: 0; }
        #left_menu_list .a_menu{
            display: inline-block; width: 140px; padding-left: .5em; text-decoration: none; font-size: 1.15em; font-weight: bold; line-height: 1.7em;
            color: #2964d2; margin-top: 4px;
        }
        #left_menu_list .a_menu:hover { background: #efefef; color: #333; border-right: solid 5px #344fa3; }
        .link_list { display: inline-block; float: left; margin: 0em 0em 2em 0em; padding-left: 0em; }
        .link_list LI { display: inline-block; float: left; clear: both; margin-bottom: .7em; }
        .jscode { color: #111; font-size: 1em; }
        .code_html_tag { color: #0000e6; }
        .code_html_commnet { color: #969696; }
        .code_js_quotes { color: #ce7b00; }
        .link { color: #2964d2; font-size: 12px; }
        .frame_conatiner { overflow: hidden; }
    </style>
    <script src="js/techdemo_example/jquery-1.9.1.min.js"></script>
    <script>
window.onload = function ()
{
    MeasurePage();
};

var timerid;
$( window ).resize(function() // window resize handling
{
    if ( typeof (timerid) !== 'undefined' && timerid !== null ) { clearTimeout(timerid); }
    timerid = setTimeout(function ()
    {
        MeasurePage();
    }, 100);
});

function MeasurePage()
{
    $("#content").width( $("#main_container").width() - $("#left").width() - 40 );
    $("#left").height( $("#content").height() );
}

function MenuHandler(id)
{
    if (typeof (id) === 'undefined' || id.length < 1) { return; }
    
    $("#home_content").hide();
    $("#alternate_content").html('');
    $("#alternate_content").hide();
    $("#api_content").hide();
    $("#url_content").hide();
    
    
    var ifrm_template = '<iframe frameborder="0" width="[WIDTH]" height="[HEIGHT]" src="[SOURCE]" name="[NAME]" id="[ID]" class="frame_conatiner" scrolling="no"></iframe>';
    
    if (id === 'home')
    {
        $("#home_content").show();
    }
    else if (id === 'techdemo')
    {
        var ifrm = ifrm_template.replace('[SOURCE]', 'samples/techdemo_example.html?isdemopage=true');
        ifrm = ifrm.replace('[NAME]', 'techdemo');
        ifrm = ifrm.replace('[ID]', 'techdemo');
        ifrm = ifrm.replace('[WIDTH]', '100%');
        ifrm = ifrm.replace('[HEIGHT]', '620');
        
        $("#alternate_content").html(ifrm);
        $("#alternate_content").show();
    }
	else if (id === 'basic')
    {
        var ifrm = ifrm_template.replace('[SOURCE]', 'samples/basic_example.html?isdemopage=true');
        ifrm = ifrm.replace('[NAME]', 'basic');
        ifrm = ifrm.replace('[ID]', 'basic');
        ifrm = ifrm.replace('[WIDTH]', '100%');
        ifrm = ifrm.replace('[HEIGHT]', '350');
        
        $("#alternate_content").html(ifrm);
        $("#alternate_content").show();
    }
    else if (id === 'softphone')
    {
        var ifrm = ifrm_template.replace('[SOURCE]', 'softphone.html?isdemopage=true');
        ifrm = ifrm.replace('[NAME]', 'softphone');
        ifrm = ifrm.replace('[ID]', 'softphone');
        ifrm = ifrm.replace('[WIDTH]', '350');
        ifrm = ifrm.replace('[HEIGHT]', '520');
        
        var txt = '<div>A customizable turn-key browser softphone implementation.</div><br />';
        $("#alternate_content").html(txt + ifrm);
        $("#alternate_content").show();
    }
    else if (id === 'mobile')
    {
        var ifrm = ifrm_template.replace('[SOURCE]', 'samples/mobile_example.html?isdemopage=true');
        ifrm = ifrm.replace('[NAME]', 'mobile');
        ifrm = ifrm.replace('[ID]', 'mobile');
        ifrm = ifrm.replace('[WIDTH]', '350');
        ifrm = ifrm.replace('[HEIGHT]', '750');
        
        $("#alternate_content").html(ifrm);
        $("#alternate_content").show();
    }
    else if (id === 'click2call_example')
    {
        var ifrm = ifrm_template.replace('[SOURCE]', 'samples/click2call_example.html?isdemopage=true');
        ifrm = ifrm.replace('[NAME]', 'click2call_example');
        ifrm = ifrm.replace('[ID]', 'click2call_example');
        ifrm = ifrm.replace('[WIDTH]', '100%');
        ifrm = ifrm.replace('[HEIGHT]', '630');
        
        var extrahtml = '';
       /*
        var extrahtml = 'These configurations can be set in the .html source, but just for this online demo, you can enter the configuration below:<br /><br />' +
                        '<input type="text" placeholder="VoIP Server address" id="c2c_serveraddress"><br />' +
                        '<input type="text" placeholder="Username" id="c2c_username"><br />' +
                        '<input type="text" placeholder="Password" id="c2c_password"><br />' +
                        '<input type="text" placeholder="Callto" id="c2c_callto"><br />';
       */
        $("#alternate_content").html(ifrm + extrahtml);
        $("#alternate_content").show();
        /*
        setTimeout(function ()
        {
            var ifrm = document.getElementById('click2call_example');
            var iwindow = ifrm.contentWindow || ifrm;
            
            if (typeof (iwindow) === 'undefined' || iwindow === null) { return; }
            
            var c2c_serveraddress_input = document.getElementById('c2c_serveraddress');
            var c2c_username_input = document.getElementById('c2c_username');
            var c2c_password_input = document.getElementById('c2c_password');
            var c2c_destination_input = document.getElementById('c2c_callto');
            
            var serveraddress = iwindow.webphone_api.getparameter('serveraddress');
            var username = iwindow.webphone_api.getparameter('username');
            var password = iwindow.webphone_api.getparameter('password');
            var destination = iwindow.webphone_api.getparameter('destination');
            
            if (serveraddress.length > 0) { c2c_serveraddress_input.value = serveraddress; }
            if (username.length > 0) { c2c_username_input.value = username; }
            if (password.length > 0) { c2c_password_input.value = password; }
            if (destination.length > 0) { c2c_destination_input.value = destination; }
        }, 5000);*/
    }
    else if (id === 'linkify_example')
    {
        var ifrm = ifrm_template.replace('[SOURCE]', 'samples/linkify_example.html');
        ifrm = ifrm.replace('[NAME]', 'linkify_example');
        ifrm = ifrm.replace('[ID]', 'linkify_example');
        ifrm = ifrm.replace('[WIDTH]', '100%');
        ifrm = ifrm.replace('[HEIGHT]', '300');
        
        $("#alternate_content").html(ifrm);
        $("#alternate_content").show();
    }
    else if (id === 'basic_example')
    {
        var ifrm = ifrm_template.replace('[SOURCE]', 'samples/basic_example.html');
        ifrm = ifrm.replace('[NAME]', 'basic_example');
        ifrm = ifrm.replace('[ID]', 'basic_example');
        ifrm = ifrm.replace('[WIDTH]', '100%');
        ifrm = ifrm.replace('[HEIGHT]', '350');
        
        $("#alternate_content").html(ifrm);
        $("#alternate_content").show();
    }
    else if (id === 'api')
    {
        $("#api_content").show();
    }
    else if (id === 'htmlurl')
    {
        $("#url_content").show();
    }
    /*
    setTimeout(function ()
    {
        MeasurePage();
    }, 100);*/
}
</script>
</head>
<body lang="en-US" link="#0000ff" dir="ltr">
<div id="js_not_enabled">Enable JavaScript or click the &quot;Allow&quot; button in your browser!!!</div>
<script type="text/javascript">document.getElementById('js_not_enabled').style.display = 'none'; try{ document.getElementById('phone_app_main_container').style.display = 'none'; } catch(err) {  }</script>
<div id="header_container">
    <h1 class="western" align="center">Mizutech Webphone</h1>
</div>
<div id="main_container">
    <div id="left">
        <div id="left_menu_list">
            <a href="javascript:;" class="a_menu" onclick="MenuHandler('home')">Home</a><br /><br />
            <a href="javascript:;" class="a_menu" onclick="MenuHandler('basic')">Basic</a>
            <a href="javascript:;" class="a_menu" onclick="MenuHandler('techdemo')" style="padding-left: .4em;">Tech demo</a>
            <a href="javascript:;" class="a_menu" onclick="MenuHandler('softphone')" style="padding-left: .4em;">Softphone</a>
            <a href="javascript:;" class="a_menu" onclick="MenuHandler('mobile')" style="padding-left: .4em;">Mobile</a>
            <a href="javascript:;" class="a_menu" onclick="MenuHandler('click2call_example')">Click to call</a>
            <a href="javascript:;" class="a_menu" onclick="MenuHandler('linkify_example')">Linkify</a>
            <a href="javascript:;" class="a_menu" onclick="MenuHandler('api')">API</a>
            <a href="javascript:;" class="a_menu" onclick="MenuHandler('htmlurl')">HTML URL</a>
			<!--
            <br /><br /><br />
            <a href="http://www.mizu-voip.com/Software/WebPhone.aspx" class="a_menu" target="_blank">Homepage</a>
            <a href="http://www.mizu-voip.com/Portals/0/Files/Webphone_Documentation.pdf" class="a_menu" target="_blank">Documentation</a>
            <a href="http://www.mizu-voip.com/Portals/0/Files/webphone.zip" class="a_menu" target="_blank">Download</a>
			-->
        </div>
    </div>
    <div id="content">
        
        <!--<h3 class="western" align="center"><font size="3" style="font-size: 16pt">Usage examples</font></h3><br />-->
        <div id="home_content">
            The Mizutech webphone is a SIP client for browsers implementing multiple engines
to take advantage of the best available client-side VoIP
technology across the majority of OS and browsers including Java
Applet, HTML5/WebRTC, Native Plugin service, Flash and others covered
by a simple to use universal API and customizable user interface templates.
<br /><br />
This is a simple index page with direct links to the examples shipped with the webphone package. You are free to use any of the included solutions, modify/customize each of the supplied HTML/CSS code or implement your VoIP client from scratch by providing your own user interface (or no user interface at all) using the webphone's Java Script API.
<br /><br />
Try out the solutions/examples from the left side to quickly check the webphone functionalities. This page is part of the <a href="https://www.mizu-voip.com/Portals/0/Files/webphone.zip">downloadable webphone package</a>. Check the source code for more details.
<br /><br /> 
If you don't have a SIP server or VoIP account yet, you can use our <a href="http://www.mizu-voip.com/Services/VoIPServices.aspx" target="_blank">VoIP service</a>:
<ul class="link_list3">
<li>Server address: voip.mizu-voip.com</li>
<li>Account: create <a href="http://voip.mizu-voip.com:8000/?function=newuser" target="_blank">free VoIP account from here</a> or use the following username/passwords: webphonetest1/webphonetest1, webphonetest2/webphonetest2 (others might also use these public accounts so calls might be misrouted)</li>
<li>Call: You can call the "testivr3" access number to hear a music or register with both accounts and call each others</li>
</ul>
<br /><br />

            <div class="clear"><!--//--></div>
            
            <div class="clear"><!--//--></div>
            <ul class="link_list">
				<li><a href="javascript:;" onclick="MenuHandler('basic')">Basic</a>: simplest usage example (not for production) [basic_example.html]</li>
				<li><a href="javascript:;" onclick="MenuHandler('techdemo')">Tech Demo</a>: try out the webphone by using this simple demo. You can also use this as a starting template for your custom development [techdemo_example.html / techdemo_example.js]</li>
				<li><a href="javascript:;" onclick="MenuHandler('softphone')">Softphone</a>: implements a full featured VoIP softphone in browser which can be used as is [softphone_launch.html/softphone.html/softphone folder]</li>	
				<li><a href="javascript:;" onclick="MenuHandler('mobile')">Mobile</a>: the webphone works also on mobile. This is just a show-case [mobile_example.html]</li>
                <li><a href="javascript:;" onclick="MenuHandler('click2call_example')">Click to call</a>: click to call button [click2call_example.html / click2call.js]</li>
                <li><a href="javascript:;" onclick="MenuHandler('linkify_example')">Linkify</a>: convert all phone number like strings on your website to click to call links [linkify_example.html / linkify.js]</li>
				<li><a href="javascript:;" onclick="MenuHandler('api')">API</a>: use the “webphone_api.js” file. Check the examples and the documentation for the usage.</li>
				<li>There are many other ways to use the webphone. You can create your own solutions for scratch using the WebPhone API or modify the existing examples. The rest is your imagination.</li>
            </ul>
            
            <div class="clear"><!--//--></div>			
			<br /><br />
			For more details <a href="http://www.mizu-voip.com/Portals/0/Files/webphone.zip" target="_blank">download</a> or check the <a href="http://www.mizu-voip.com/Portals/0/Files/Webphone_Documentation.pdf" target="_blank">documentation</a>.
			<br /><br />
            <div class="clear"><!--//--></div>
        </div>
        <div id="alternate_content" style="display: none;"></div>
        <div id="api_content" style="display: none;">
            
The public JavaScript API can be found in "webphone_api.js" file, under global javascript namespace "webphone_api".
To be able to use the webphone as a javascript VoIP library, just copy the webphone folder to your web project and add the webphone_api.js to your page.
Simple example:<br /><br /><br />
            <div class="jscode">
                <span class="code_html_tag">&lt;head&gt;</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="code_html_commnet">&lt;!--include the webphone_api.js to your webpage--&gt;</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="code_html_tag">&lt;script src=</span><span class="code_js_quotes">"webphone_api.js"</span><span class="code_html_tag">&gt;&lt;/script&gt;</span><br />
<span class="code_html_tag">&lt;/head&gt;</span><br />
<span class="code_html_tag">&lt;body&gt;</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="code_html_tag">&lt;script&gt;</span><br />

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="code_html_commnet">// IMPORTANT: Wait until the webphone is loaded, before calling any API functions</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;webphone_api.onLoaded(function () {<br /><br />

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="code_html_commnet">//set parameters (alternatively these can be also preset in your html)</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;webphone_api.setparameter(<span class="code_js_quotes">'serveraddress'</span>, SERVERADDRESS); <span class="code_html_commnet">// Replace the word in uppercase with the value</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;webphone_api.setparameter(<span class="code_js_quotes">'username'</span>, USERNAME); <span class="code_html_commnet">// Replace the word in uppercase with the value</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;webphone_api.setparameter(<span class="code_js_quotes">'password'</span>, PASSWORD); <span class="code_html_commnet">// Replace the word in uppercase with the value</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="code_html_commnet">//see the “Parameters” section in the documentation for more options</span><br /><br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="code_html_commnet">//start the webphone (optional but recommended)</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;webphone_api.start();<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="code_html_commnet">//make a call (usually initiated by user action, such as click on a click to call button)</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;webphone_api.call(number);<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="code_html_commnet">//hangup</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;webphone_api.hangup();<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="code_html_commnet">//send instant message</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;webphone_api.sendchat(number, message);<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="code_html_tag">&lt;/script&gt;</span><br />
<span class="code_html_tag">&lt;/body&gt;</span>
<br /><br /><br />
For more details consult the Javascript API section in the <a href="http://www.mizu-voip.com/Portals/0/Files/Webphone_Documentation.pdf" target="_blank">documentation</a>.
<br />
            </div>
        </div>
        <div id="url_content" style="display: none">
The webphone can load its settings also from the webpage URL and perform various actions such as initiate a call. All the documented parameters can be used, prefixed
with “wp_”.<br /><br />
Example to trigger a call with the softphone by html url parameters:<br />
<span class="link">http://www.yourwebsite.com/webphonedir/softphone.html?wp_serveraddress=YOURSIPDOMAIN&wp_username=USERNAME&wp_password=PASSWORD&wp_callto=CALLEDNUMBER</span><br /><br />
Example to trigger a call with the clicktocall by html url parameters:<br />
<span class="link">http://www.yourwebsite.com/webphonedir/clicktocall.html?wp_serveraddress=YOURSIPDOMAIN&wp_username=USERNAME&wp_password=PASSWORD&wp_callto=CALLEDNUMBER</span><br /><br />
Example trigger chat by html parameters<br />
<span class="link">http://www.yourwebsite.com/webphonedir/softphone.html?wp_serveraddress=YOURSIPDOMAIN&wp_username=USERNAME&wp_password=PASSWORD&wp_sendchat=TEXT&wp_to=DESTINATION</span><br /><br />
Note: you should use clear password only if the account is locked on your server (can’t call costly outside numbers). Otherwise you should pass it encrypted or
use MD5 instead.<br /><br />
        </div>
    </div>
<div id="footer">
    <div id="footer_content">
        Problems running the demo? Send an email to <a href="mailto:webphone@mizu-voip.com?subject=Webphone">webphone@mizu-voip.com</a> with a 
        short description about the problem/question with the <br /> <a href="http://www.mizu-voip.com/Support/Wiki/tabid/99/Default.aspx?topic=Webphone+logs" target="_blank">browser console logs</a> about your attempt and we will check it asap. If possible please send us also a test account valid on your SIP server.
        <br /><br />
        <div id="footer_links_container">
            <span class="footer_links"><a href="http://www.mizu-voip.com/" target="_blank">Mizutech</a></span>|
            <span class="footer_links"><a href="http://www.mizu-voip.com/Software/WebPhone.aspx" target="_blank">Webphone</a></span>|
            <span class="footer_links"><a href="http://www.mizu-voip.com/Portals/0/Files/Webphone_Documentation.pdf" target="_blank">Documentation</a></span>|
            <span class="footer_links"><a href="http://www.mizu-voip.com/Portals/0/Files/webphone.zip" target="_blank">Download</a></span>|
            <span class="footer_links"><a href="http://www.mizu-voip.com/Support.aspx" target="_blank">Support</a></span>|
            <span class="footer_links"><a href="http://www.mizu-voip.com/Company/Contact.aspx" target="_blank">Contact</a></span>
        </div>
    </div>
    <div id="footer_cp">Copyright (c) 2017 Mizutech S.R.L.</div>
</div>
</div>
</body>
</html>